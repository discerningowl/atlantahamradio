<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self';">

    <!-- Primary Meta Tags -->
    <title>Atlanta Ham Radio - Amateur Radio Public Service Events Calendar</title>
    <meta name="title" content="Atlanta Ham Radio - Amateur Radio Public Service Events Calendar">
    <meta name="description" content="Atlanta metro amateur radio public service event calendar. Find races, marathons, parades, and community events needing ham radio operators. Connect with local clubs and ARES groups.">
    <meta name="keywords" content="atlanta ham radio, amateur radio, public service events, ARES, race communications, marathon communications, atlanta radio clubs, ham radio calendar, emergency communications">
    <meta name="author" content="KQ4JP">
    <link rel="canonical" href="https://atlantahamradio.org/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://atlantahamradio.org/">
    <meta property="og:title" content="Atlanta Ham Radio - Amateur Radio Public Service Events Calendar">
    <meta property="og:description" content="Atlanta metro amateur radio public service event calendar. Find races, marathons, parades, and community events needing ham radio operators.">
    <meta property="og:image" content="https://atlantahamradio.org/images/logo.png">
    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="Atlanta Ham Radio">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://atlantahamradio.org/">
    <meta name="twitter:title" content="Atlanta Ham Radio - Amateur Radio Public Service Events Calendar">
    <meta name="twitter:description" content="Atlanta metro amateur radio public service event calendar. Find races, marathons, parades, and community events needing ham radio operators.">
    <meta name="twitter:image" content="https://atlantahamradio.org/images/logo.png">

    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <link rel="stylesheet" href="css/style.css">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Atlanta Ham Radio",
        "alternateName": "Atlanta Amateur Radio Public Service",
        "url": "https://atlantahamradio.org",
        "logo": "https://atlantahamradio.org/images/logo.png",
        "description": "Atlanta metro amateur radio public service event calendar and community resources",
        "sameAs": [
            "https://www.youtube.com/@AtlantaHamRadio"
        ],
        "areaServed": {
            "@type": "State",
            "name": "Georgia"
        },
        "contactPoint": {
            "@type": "ContactPoint",
            "contactType": "General Inquiries",
            "name": "KQ4JP"
        }
    }
    </script>
</head>
<body>
    <script src="js/header.js"></script>

    <section class="hero">
        <h2>Atlanta Metro Public Service Event Calendar</h2>
        <p>Support your Atlanta metro community through amateur radio. From marathons to parades, your communication skills make events safer and more successful.</p>
        <div class="hero-buttons">
            <button class="btn btn-primary" onclick="setView('list')">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 2v4"/><path d="M16 2v4"/><rect width="18" height="18" x="3" y="4" rx="2"/><path d="M3 10h18"/></svg>
                View Upcoming Events
            </button>
            <a href="https://www.youtube.com/@AtlantaHamRadio" target="_blank" rel="noopener noreferrer" class="btn btn-youtube">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>
                Atlanta Ham Radio YouTube
            </a>
            <a href="pages/about.html#contactform" class="btn btn-contact">Contact KQ4JP</a>
        </div>
    </section>

    <section id="calendar" class="calendar-section">
        <div class="calendar-card">
            <div class="calendar-controls">
                <div class="month-nav">
                    <button onclick="changeMonth(-1)">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
                    </button>
                    <h3 id="monthYear"></h3>
                    <button onclick="changeMonth(1)">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
                    </button>
                </div>
                <div class="view-buttons">
                    <button class="view-btn active" id="monthViewBtn" onclick="setView('month')">Month View</button>
                    <button class="view-btn" id="listViewBtn" onclick="setView('list')">List View</button>
                    <button class="view-btn" id="subscribeBtn" onclick="openSubscribeModal()" style="background: #3b82f6; color: white; margin-left: 0.5rem;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle; margin-right: 4px;"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>
                        Subscribe
                    </button>
                </div>
            </div>

            <div class="search-box" style="margin-bottom: 1rem;">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/>
                </svg>
                <input type="text" id="searchInput" placeholder="Search events by name..." onkeyup="handleSearch()">
                <button class="search-clear-btn" id="searchClearBtn" onclick="clearSearch()" style="display: none;" aria-label="Clear search">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M18 6 6 18"/><path d="m6 6 12 12"/>
                    </svg>
                </button>
            </div>

            <div class="filters" id="filters"></div>

            <div id="calendarContainer"></div>
        </div>
    </section>

    <section id="resources" class="quick-links">
        <div class="link-card">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
            <h3>Local Clubs</h3>
            <p>Connect with ham radio clubs in the Atlanta metro area</p>
            <a href="pages/clubs.html">View Clubs →</a>
        </div>

        <div class="link-card">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 16v2"/><path d="M19 16v2"/><rect width="20" height="8" x="2" y="8" rx="2"/><path d="M18 12h0"/></svg>
            <h3>Get Started</h3>
            <p>Resources for new and experienced operators</p>
            <a href="pages/getstarted.html">Learn More →</a>
        </div>

        <div class="link-card">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
            <h3>Get Involved</h3>
            <p>Start volunteering for public service events today</p>
            <a href="#calendar" onclick="setView('list')">View Events →</a>
        </div>
    </section>

    <div class="modal" id="eventModal" onclick="closeModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <div class="event-type-badge" id="modalTypeBadge"></div>
                <button class="modal-close" onclick="closeModal()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
                </button>
            </div>
            <div class="modal-body">
                <h3 id="modalTitle"></h3>
                <div class="modal-details" id="modalDetails"></div>
                <p class="modal-description" id="modalDescription"></p>
                <div id="modalContactInfo"></div>
                <div class="modal-actions">
                    <button class="btn btn-primary" id="addToCalendarBtn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>
                        Add to Calendar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="subscribeModal" onclick="closeSubscribeModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()" style="max-width: 600px;">
            <div class="modal-header">
                <h3 style="margin: 0;">Subscribe to Calendar</h3>
                <button class="modal-close" onclick="closeSubscribeModal()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
                </button>
            </div>
            <div class="modal-body">
                <p style="margin-bottom: 1.5rem; color: var(--text-secondary);">Copy this URL and add it to your calendar app:</p>

                <div style="position: relative; margin-bottom: 2rem;">
                    <input type="text" id="calendarUrlInput" value="https://atlantahamradio.org/events.ics" readonly
                           style="width: 100%; padding: 0.75rem; padding-right: 5rem; font-family: 'Monaco', 'Courier New', monospace; font-size: 0.9rem; border: 1px solid var(--border-primary); border-radius: 0.375rem; background: var(--bg-tertiary); color: var(--text-primary);">
                    <button id="copyUrlBtn" onclick="copySubscribeUrl()"
                            style="position: absolute; right: 0.5rem; top: 50%; transform: translateY(-50%); padding: 0.5rem 1rem; background: #3b82f6; color: white; border: none; border-radius: 0.25rem; font-weight: 600; cursor: pointer; font-size: 0.875rem;">
                        Copy
                    </button>
                </div>

                <div style="margin-bottom: 1.5rem;">
                    <h4 style="margin-bottom: 0.75rem; font-size: 1rem;">Quick Instructions:</h4>

                    <div style="margin-bottom: 1rem;">
                        <strong style="color: var(--text-primary);">Apple Calendar:</strong>
                        <div style="margin-top: 0.25rem;">
                            <a href="webcal://atlantahamradio.org/events.ics" style="color: #3b82f6; text-decoration: none; font-weight: 500;">Click here to subscribe</a> (opens Calendar app)
                        </div>
                    </div>

                    <div style="margin-bottom: 1rem;">
                        <strong style="color: var(--text-primary);">Google Calendar:</strong>
                        <ol style="margin: 0.25rem 0 0 1.25rem; padding: 0; color: var(--text-secondary); line-height: 1.6;">
                            <li>Go to Google Calendar settings</li>
                            <li>Click "Add calendar" → "From URL"</li>
                            <li>Paste the URL above</li>
                        </ol>
                    </div>

                    <div style="margin-bottom: 1rem;">
                        <strong style="color: var(--text-primary);">Outlook:</strong>
                        <ol style="margin: 0.25rem 0 0 1.25rem; padding: 0; color: var(--text-secondary); line-height: 1.6;">
                            <li>Go to Outlook Calendar settings</li>
                            <li>Select "Subscribe from web"</li>
                            <li>Paste the URL above</li>
                        </ol>
                    </div>

                    <div style="margin-bottom: 0;">
                        <strong style="color: var(--text-primary);">Other Calendars:</strong>
                        <p style="margin: 0.25rem 0 0 0; color: var(--text-secondary); line-height: 1.6;">Look for "Add by URL" or "Subscribe to calendar" in your calendar app's settings, then paste the URL above.</p>
                    </div>
                </div>

                <div style="text-align: center; padding-top: 1rem; border-top: 1px solid var(--border-primary);">
                    <a href="pages/calendar-feed.html" style="color: #3b82f6; text-decoration: none; font-weight: 600;">
                        Need more help? View detailed instructions →
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script src="js/calendar.js"></script>
    <script src="js/footer.js"></script>
</body>
</html>